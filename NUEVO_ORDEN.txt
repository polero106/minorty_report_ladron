â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚     ğŸš€ NUEVO ORDEN DE EJECUCIÃ“N - MINORITY REPORT MADRID           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 1: GENERAR CIUDAD SINTÃ‰TICA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ“ Comando:
     python src/city_generator.py

  â±ï¸  DuraciÃ³n: ~30-60 segundos
  
  ğŸ“¦ QuÃ© hace:
     â€¢ Descarga calles reales de Madrid (OpenStreetMap/OSMnx)
     â€¢ Genera 2000 personas con ubicaciones reales
     â€¢ Genera 150 ubicaciones de interÃ©s
     â€¢ Genera warnings (crÃ­menes) con ubicaciones coherentes
     â€¢ Guarda todo en Neo4j con coordenadas REALES
  
  âœ… Resultado:
     Base de datos Neo4j poblada con:
     - Nodos: Persona, Ubicacion, Warning
     - Propiedades: lat, lon (coordenadas reales ~40.4, -3.7)
     - Relaciones: VIVE_EN, COMETIO, OCURRIO_EN


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 2: ENTRENAR MODELO GAN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ§  Comando:
     python src/entrenamiento_gan.py

  â±ï¸  DuraciÃ³n: ~5-10 minutos (300 epochs)
  
  ğŸ“¦ QuÃ© hace:
     â€¢ Lee datos de Neo4j usando MadridDataLoader
     â€¢ NO normaliza coordenadas (usa reales)
     â€¢ Entrena red adversaria:
       - Generador (Criminal): Predice ubicaciones de crÃ­menes
       - Discriminador (PolicÃ­a): Detecta patrones criminales
     â€¢ Guarda modelo en models/agente_precrime.pth
  
  âš ï¸  IMPORTANTE:
     Si tienes un agente_precrime.pth viejo, bÃ³rralo antes:
     rm models/agente_precrime.pth
     
     El modelo viejo fue entrenado con coordenadas normalizadas [0,1]
     El modelo nuevo usa coordenadas reales [40.x, -3.x]
  
  âœ… Resultado:
     Archivo models/agente_precrime.pth con modelo entrenado


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 3 (OPCIONAL): PREDICCIÃ“N EN CLI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ” Comando:
     python src/prediccion.py

  â±ï¸  DuraciÃ³n: ~10-30 segundos
  
  ğŸ“¦ QuÃ© hace:
     â€¢ Carga el modelo entrenado
     â€¢ Lee datos actuales de Neo4j
     â€¢ Calcula probabilidades de crimen
     â€¢ Muestra TOP 10 amenazas en terminal
  
  âœ… Resultado:
     Tabla en consola con predicciones:
     PROB %   | ID SUJETO | RIESGO | ID ZONA | PELIGROSIDAD
     95.23%   | P_0142    | 0.87   | U_0035  | 0.76


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 4: VISUALIZAR DASHBOARD 3D
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ¨ Comando:
     panel serve viz/dashboard_madrid_3d.py --show --port 5006

  â±ï¸  DuraciÃ³n: Servidor continuo
  
  ğŸŒ URL:
     http://localhost:5006
  
  ğŸ“¦ QuÃ© hace:
     â€¢ Inicia servidor web con Panel
     â€¢ Carga modelo y datos con PredictionService
     â€¢ Muestra mapa 3D interactivo de Madrid
     â€¢ Visualiza:
       ğŸ”µ Personas (puntos azules)
       ğŸŸ¡ Ubicaciones (puntos amarillos)
       Al hacer click en "EJECUTAR ANÃLISIS IA":
       ğŸ”´ Arcos rojos (conexiones criminales predichas)
       ğŸ”´ Puntos rojos (ubicaciones de crimen futuro)
  
  âœ… Resultado:
     Dashboard web interactivo con predicciones en tiempo real


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âš ï¸  CAMBIOS IMPORTANTES DEL SISTEMA ANTIGUO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âŒ NO USAR MÃS:
     â€¢ src/etl_policial.py (normalizaba coordenadas)
     â€¢ Funciones denormalize_lat/denormalize_lon en dashboard
     â€¢ Modelos entrenados con sistema antiguo

  âœ… USAR AHORA:
     â€¢ src/data_loader.py (coordenadas reales)
     â€¢ Dashboard trabaja directo con coordenadas reales
     â€¢ Re-entrenar modelo con nuevo sistema


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ› SOLUCIÃ“N DE PROBLEMAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Problema: Dashboard muestra puntos fuera de Madrid
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Causa:    Modelo entrenado con sistema antiguo
  SoluciÃ³n: rm models/agente_precrime.pth
            python src/city_generator.py
            python src/entrenamiento_gan.py

  Problema: Error "No module named 'etl_policial'"
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Causa:    Archivo no actualizado
  SoluciÃ³n: Cambiar import:
            from src.data_loader import MadridDataLoader

  Problema: Error "Model not found"
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Causa:    No se ha entrenado el modelo
  SoluciÃ³n: python src/entrenamiento_gan.py

  Problema: Error de conexiÃ³n a Neo4j
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Causa:    Credenciales incorrectas o DB apagada
  SoluciÃ³n: Verificar archivo .env:
            NEO4J_URI=neo4j+ssc://xxxxx.databases.neo4j.io
            NEO4J_PASSWORD=tu_password


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“š DOCUMENTACIÃ“N ADICIONAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Para mÃ¡s detalles:
  â€¢ ORDEN_EJECUCION.md - DocumentaciÃ³n tÃ©cnica completa
  â€¢ GUIA_RAPIDA.md - GuÃ­a rÃ¡pida visual
  â€¢ README.md - DescripciÃ³n general del proyecto


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¯ RESUMEN VISUAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  city_generator.py  â†’  Neo4j (coords reales)
                              â†“
                    entrenamiento_gan.py
                              â†“
                    models/agente_precrime.pth
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                   â†“
              prediccion.py      dashboard_madrid_3d.py
              (CLI output)         (Web UI visual)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
